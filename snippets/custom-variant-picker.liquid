{%- if product.has_only_default_variant == false -%}
  <div class="custom-variant-wrapper">
    <fieldset class="custom-variant-picker">
      <legend class="form__label">{{ product.options_with_values[0].name }}</legend>
      <div class="custom-variant-options">
        {% for variant in product.variants %}
          {% assign image = variant.featured_image | default: product.featured_image %}
          <label class="custom-variant-option">
            <input
              type="radio"
              name="id"
              value="{{ variant.id }}"
              form="{{ product_form_id }}"
              {% if variant.id == product.selected_or_first_available_variant.id %}checked{% endif %}
            >
            <div class="custom-variant-box">
              <img src="{{ image | image_url: width: 200 }}" alt="{{ variant.title }}">
              <div class="custom-variant-label">
                {{ variant.title }}
              </div>
            </div>
          </label>
        {% endfor %}
      </div>
    </fieldset>
  </div>
{%- endif -%}

<style>
  .custom-variant-options {
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
}

.custom-variant-option {
  cursor: pointer;
  display: inline-block;
}

.custom-variant-option input {
  display: none;
}

.custom-variant-box {
  border: 2px solid transparent;
  padding: 0.5rem;
  border-radius: 12px;
  text-align: center;
  transition: border 0.3s;
}

.custom-variant-box img {
  max-width: 100px;
  border-radius: 8px;
}

.custom-variant-option input:checked + .custom-variant-box {
  border: 2px solid black;
}

.custom-variant-label {
  margin-top: 0.5rem;
  font-weight: bold;
  font-size: 14px;
}

</style>